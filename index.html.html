COUNTER PEMILOS VER 2

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter Pemilihan Ketua Umum OSIS 2025/2026</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-shadow { box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .pulse-animation { animation: pulse 2s infinite; }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .vote-flash { animation: flash 0.3s ease-in-out; }
        @keyframes flash {
            0%, 100% { background-color: transparent; }
            50% { background-color: rgba(255, 255, 255, 0.3); }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen py-8">
    <!-- Login Page -->
    <div id="loginPage" class="min-h-screen flex items-center justify-center px-4">
        <div class="bg-white rounded-xl card-shadow p-8 w-full max-w-md">
            <div class="text-center mb-8">
                <h1 class="text-3xl font-bold text-gray-800 mb-2">üîê Login Admin</h1>
                <p class="text-gray-600">Counter Pemilihan OSIS 2025/2026</p>
            </div>
            
            <form id="loginForm" class="space-y-6">
                <div>
                    <label for="username" class="block text-sm font-semibold text-gray-700 mb-2">Username</label>
                    <input type="text" id="username" name="username" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
                           placeholder="Masukkan username">
                </div>
                
                <div>
                    <label for="password" class="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                    <input type="password" id="password" name="password" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200"
                           placeholder="Masukkan password">
                </div>
                
                <div id="errorMessage" class="hidden bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg text-sm">
                    Username atau password salah!
                </div>
                
                <button type="submit" 
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2">
                    <span>üöÄ Masuk ke Counter</span>
                </button>
            </form>
            
            <div class="mt-6 text-center">
                <p class="text-xs text-gray-500">Sistem Counter Pemilihan Ketua Umum OSIS</p>
                <p class="text-xs text-gray-500">Periode 2025/2026</p>
            </div>
        </div>
    </div>

    <!-- Main Application (Hidden by default) -->
    <div id="mainApp" class="hidden container mx-auto px-4 max-w-7xl">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">üó≥Ô∏è PEMILIHAN KETUA UMUM OSIS</h1>
            <p class="text-xl text-white/90 mb-4">PERIODE 2025/2026</p>
            <div class="bg-white/20 backdrop-blur-sm rounded-lg p-4 inline-block mb-4">
                <p class="text-white font-semibold">Total Suara: <span id="totalVotes" class="text-2xl">0</span></p>
            </div>
        </div>

        <!-- Candidates Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-8">
            <!-- Candidate 1: Quinna -->
            <div class="bg-white rounded-xl card-shadow p-6 text-center transform hover:scale-105 transition-all duration-300" id="candidate-1">
                <div class="w-16 h-16 bg-gradient-to-br from-pink-400 to-purple-500 rounded-full mx-auto mb-3 flex items-center justify-center text-white text-xl font-bold">
                    Q
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Quinna</h3>
                <p class="text-gray-600 mb-4">Kandidat No. 1</p>
                
                <!-- Class Vote Counters -->
                <div class="space-y-3 mb-4">
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 32</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(1, 32, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-1-32">0</span>
                            <button onclick="changeVote(1, 32, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 33</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(1, 33, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-1-33">0</span>
                            <button onclick="changeVote(1, 33, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 34</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(1, 34, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-1-34">0</span>
                            <button onclick="changeVote(1, 34, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="border-t pt-4">
                    <p class="text-sm text-gray-600">Total Suara</p>
                    <p class="text-3xl font-bold text-purple-600" id="total-1">0</p>
                </div>
            </div>

            <!-- Candidate 2: Kirana -->
            <div class="bg-white rounded-xl card-shadow p-6 text-center transform hover:scale-105 transition-all duration-300" id="candidate-2">
                <div class="w-16 h-16 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-full mx-auto mb-3 flex items-center justify-center text-white text-xl font-bold">
                    K
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Kirana</h3>
                <p class="text-gray-600 mb-4">Kandidat No. 2</p>
                
                <!-- Class Vote Counters -->
                <div class="space-y-3 mb-4">
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 32</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(2, 32, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-2-32">0</span>
                            <button onclick="changeVote(2, 32, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 33</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(2, 33, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-2-33">0</span>
                            <button onclick="changeVote(2, 33, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 34</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(2, 34, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-2-34">0</span>
                            <button onclick="changeVote(2, 34, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="border-t pt-4">
                    <p class="text-sm text-gray-600">Total Suara</p>
                    <p class="text-3xl font-bold text-blue-600" id="total-2">0</p>
                </div>
            </div>

            <!-- Candidate 3: Ramiel -->
            <div class="bg-white rounded-xl card-shadow p-6 text-center transform hover:scale-105 transition-all duration-300" id="candidate-3">
                <div class="w-16 h-16 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full mx-auto mb-3 flex items-center justify-center text-white text-xl font-bold">
                    R
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Ramiel</h3>
                <p class="text-gray-600 mb-4">Kandidat No. 3</p>
                
                <!-- Class Vote Counters -->
                <div class="space-y-3 mb-4">
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 32</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(3, 32, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-3-32">0</span>
                            <button onclick="changeVote(3, 32, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 33</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(3, 33, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-3-33">0</span>
                            <button onclick="changeVote(3, 33, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 34</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(3, 34, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-3-34">0</span>
                            <button onclick="changeVote(3, 34, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="border-t pt-4">
                    <p class="text-sm text-gray-600">Total Suara</p>
                    <p class="text-3xl font-bold text-green-600" id="total-3">0</p>
                </div>
            </div>

            <!-- Candidate 4: Raisha -->
            <div class="bg-white rounded-xl card-shadow p-6 text-center transform hover:scale-105 transition-all duration-300" id="candidate-4">
                <div class="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-500 rounded-full mx-auto mb-3 flex items-center justify-center text-white text-xl font-bold">
                    R
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Raisha</h3>
                <p class="text-gray-600 mb-4">Kandidat No. 4</p>
                
                <!-- Class Vote Counters -->
                <div class="space-y-3 mb-4">
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 32</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(4, 32, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-4-32">0</span>
                            <button onclick="changeVote(4, 32, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 33</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(4, 33, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-4-33">0</span>
                            <button onclick="changeVote(4, 33, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 34</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(4, 34, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-4-34">0</span>
                            <button onclick="changeVote(4, 34, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="border-t pt-4">
                    <p class="text-sm text-gray-600">Total Suara</p>
                    <p class="text-3xl font-bold text-orange-600" id="total-4">0</p>
                </div>
            </div>

            <!-- Candidate 5: Fawwaz -->
            <div class="bg-white rounded-xl card-shadow p-6 text-center transform hover:scale-105 transition-all duration-300" id="candidate-5">
                <div class="w-16 h-16 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full mx-auto mb-3 flex items-center justify-center text-white text-xl font-bold">
                    F
                </div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">Fawwaz</h3>
                <p class="text-gray-600 mb-4">Kandidat No. 5</p>
                
                <!-- Class Vote Counters -->
                <div class="space-y-3 mb-4">
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 32</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(5, 32, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-5-32">0</span>
                            <button onclick="changeVote(5, 32, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 33</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(5, 33, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-5-33">0</span>
                            <button onclick="changeVote(5, 33, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                    <div class="bg-gray-50 rounded-lg p-3">
                        <p class="text-sm font-semibold text-gray-700">Angkatan 34</p>
                        <div class="flex items-center justify-between mt-2">
                            <button onclick="changeVote(5, 34, -1)" class="bg-red-500 hover:bg-red-600 text-white w-8 h-8 rounded-full text-sm font-bold">-</button>
                            <span class="text-2xl font-bold text-gray-800" id="votes-5-34">0</span>
                            <button onclick="changeVote(5, 34, 1)" class="bg-green-500 hover:bg-green-600 text-white w-8 h-8 rounded-full text-sm font-bold">+</button>
                        </div>
                    </div>
                </div>
                
                <div class="border-t pt-4">
                    <p class="text-sm text-gray-600">Total Suara</p>
                    <p class="text-3xl font-bold text-indigo-600" id="total-5">0</p>
                </div>
            </div>
        </div>

        <!-- Keyboard Shortcuts Guide -->
        <div class="bg-white/20 backdrop-blur-sm rounded-lg p-6 mb-8">
            <h3 class="text-xl font-bold text-white mb-4 text-center">‚å®Ô∏è Panduan Shortcut Keyboard</h3>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Add Votes -->
                <div>
                    <h4 class="text-lg font-semibold text-white mb-3">‚ûï Tambah Suara</h4>
                    <div class="grid grid-cols-1 gap-3">
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Quinna Alfisya Bahtiar (No.1):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-green-500/30 px-2 py-1 rounded">Q</kbd> | Angkatan 33: <kbd class="bg-green-500/30 px-2 py-1 rounded">W</kbd> | Angkatan 34: <kbd class="bg-green-500/30 px-2 py-1 rounded">E</kbd></p>
                        </div>
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Kirana Asri Malika (No.2):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-green-500/30 px-2 py-1 rounded">R</kbd> | Angkatan 33: <kbd class="bg-green-500/30 px-2 py-1 rounded">T</kbd> | Angkatan 34: <kbd class="bg-green-500/30 px-2 py-1 rounded">Y</kbd></p>
                        </div>
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Ramiel Gaza Rizqiansyah (No.3):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-green-500/30 px-2 py-1 rounded">U</kbd> | Angkatan 33: <kbd class="bg-green-500/30 px-2 py-1 rounded">I</kbd> | Angkatan 34: <kbd class="bg-green-500/30 px-2 py-1 rounded">O</kbd></p>
                        </div>
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Raisha Putri Sakinah (No.4):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-green-500/30 px-2 py-1 rounded">A</kbd> | Angkatan 33: <kbd class="bg-green-500/30 px-2 py-1 rounded">S</kbd> | Angkatan 34: <kbd class="bg-green-500/30 px-2 py-1 rounded">D</kbd></p>
                        </div>
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Fawwaz Muhammad Arifin (No.5):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-green-500/30 px-2 py-1 rounded">F</kbd> | Angkatan 33: <kbd class="bg-green-500/30 px-2 py-1 rounded">G</kbd> | Angkatan 34: <kbd class="bg-green-500/30 px-2 py-1 rounded">H</kbd></p>
                        </div>
                    </div>
                </div>

                <!-- Subtract Votes -->
                <div>
                    <h4 class="text-lg font-semibold text-white mb-3">‚ûñ Kurang Suara (Tekan Shift + Tombol)</h4>
                    <div class="grid grid-cols-1 gap-3">
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Quinna Alfisya Bahtiar (No.1):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+Q</kbd> | Angkatan 33: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+W</kbd> | Angkatan 34: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+E</kbd></p>
                        </div>
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Kirana Asri Malika (No.2):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+R</kbd> | Angkatan 33: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+T</kbd> | Angkatan 34: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+Y</kbd></p>
                        </div>
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Ramiel Gaza Rizqiansyah (No.3):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+U</kbd> | Angkatan 33: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+I</kbd> | Angkatan 34: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+O</kbd></p>
                        </div>
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Raisha Putri Sakinah (No.4):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+A</kbd> | Angkatan 33: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+S</kbd> | Angkatan 34: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+D</kbd></p>
                        </div>
                        <div class="bg-white/10 rounded-lg p-3">
                            <p class="font-semibold text-white">Fawwaz Muhammad Arifin (No.5):</p>
                            <p class="text-white/90 text-sm">Angkatan 32: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+F</kbd> | Angkatan 33: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+G</kbd> | Angkatan 34: <kbd class="bg-red-500/30 px-2 py-1 rounded">Shift+H</kbd></p>
                        </div>
                    </div>
                </div>
            </div>


        </div>

        <!-- Real-time Charts -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
            <!-- Overall Results Chart -->
            <div class="bg-white rounded-xl card-shadow p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">üìä Grafik Hasil Keseluruhan</h3>
                <div class="relative h-80">
                    <canvas id="overallChart"></canvas>
                </div>
            </div>

            <!-- Class Breakdown Chart -->
            <div class="bg-white rounded-xl card-shadow p-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">üìà Grafik Per Angkatan</h3>
                <div class="relative h-80">
                    <canvas id="classChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Live Vote Progress -->
        <div class="bg-white rounded-xl card-shadow p-6 mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">üèÉ‚Äç‚ôÇÔ∏è Progress Suara Real-time</h3>
            <div class="space-y-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full"></div>
                        <span class="font-semibold text-gray-700">Quinna</span>
                    </div>
                    <div class="flex-1 mx-4">
                        <div class="bg-gray-200 rounded-full h-4 relative overflow-hidden">
                            <div id="progress-1" class="bg-gradient-to-r from-pink-400 to-purple-500 h-4 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="text-right min-w-[80px]">
                        <span id="progress-votes-1" class="font-bold text-purple-600">0</span>
                        <span class="text-sm text-gray-500">(<span id="progress-percent-1">0</span>%)</span>
                    </div>
                </div>

                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 bg-gradient-to-r from-blue-400 to-cyan-500 rounded-full"></div>
                        <span class="font-semibold text-gray-700">Kirana</span>
                    </div>
                    <div class="flex-1 mx-4">
                        <div class="bg-gray-200 rounded-full h-4 relative overflow-hidden">
                            <div id="progress-2" class="bg-gradient-to-r from-blue-400 to-cyan-500 h-4 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="text-right min-w-[80px]">
                        <span id="progress-votes-2" class="font-bold text-blue-600">0</span>
                        <span class="text-sm text-gray-500">(<span id="progress-percent-2">0</span>%)</span>
                    </div>
                </div>

                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full"></div>
                        <span class="font-semibold text-gray-700">Ramiel</span>
                    </div>
                    <div class="flex-1 mx-4">
                        <div class="bg-gray-200 rounded-full h-4 relative overflow-hidden">
                            <div id="progress-3" class="bg-gradient-to-r from-green-400 to-emerald-500 h-4 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="text-right min-w-[80px]">
                        <span id="progress-votes-3" class="font-bold text-green-600">0</span>
                        <span class="text-sm text-gray-500">(<span id="progress-percent-3">0</span>%)</span>
                    </div>
                </div>

                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 bg-gradient-to-r from-orange-400 to-red-500 rounded-full"></div>
                        <span class="font-semibold text-gray-700">Raisha</span>
                    </div>
                    <div class="flex-1 mx-4">
                        <div class="bg-gray-200 rounded-full h-4 relative overflow-hidden">
                            <div id="progress-4" class="bg-gradient-to-r from-orange-400 to-red-500 h-4 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="text-right min-w-[80px]">
                        <span id="progress-votes-4" class="font-bold text-orange-600">0</span>
                        <span class="text-sm text-gray-500">(<span id="progress-percent-4">0</span>%)</span>
                    </div>
                </div>

                <div class="flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="w-4 h-4 bg-gradient-to-r from-indigo-400 to-purple-500 rounded-full"></div>
                        <span class="font-semibold text-gray-700">Fawwaz</span>
                    </div>
                    <div class="flex-1 mx-4">
                        <div class="bg-gray-200 rounded-full h-4 relative overflow-hidden">
                            <div id="progress-5" class="bg-gradient-to-r from-indigo-400 to-purple-500 h-4 rounded-full transition-all duration-500 ease-out" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="text-right min-w-[80px]">
                        <span id="progress-votes-5" class="font-bold text-indigo-600">0</span>
                        <span class="text-sm text-gray-500">(<span id="progress-percent-5">0</span>%)</span>
                    </div>
                </div>
            </div>
        </div>



        <!-- Control Panel -->
        <div class="bg-white/20 backdrop-blur-sm rounded-lg p-6 text-center">
            <h3 class="text-xl font-bold text-white mb-4">üéõÔ∏è Panel Kontrol</h3>
            <div class="flex flex-wrap justify-center gap-4">
                <button id="showResultsBtn" onclick="showResults()" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold transition-colors duration-200 flex items-center gap-2">
                    üèÜ Lihat Hasil
                </button>
            </div>
        </div>
    </div>



    <!-- Results Modal -->
    <div id="resultsModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-800">üèÜ Hasil Pemilihan OSIS 2025/2026</h2>
                <button onclick="closeResults()" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
            </div>
            <div id="resultsContent"></div>
        </div>
    </div>

    <script>
        // Vote data structure
        let votes = {
            1: { 32: 0, 33: 0, 34: 0 }, // Quinna
            2: { 32: 0, 33: 0, 34: 0 }, // Kirana
            3: { 32: 0, 33: 0, 34: 0 }, // Ramiel
            4: { 32: 0, 33: 0, 34: 0 }, // Raisha
            5: { 32: 0, 33: 0, 34: 0 }  // Fawwaz
        };

        const candidates = {
            1: 'Quinna',
            2: 'Kirana', 
            3: 'Ramiel',
            4: 'Raisha',
            5: 'Fawwaz'
        };

        // Password action
        let currentPasswordAction = null;

        // Chart variables
        let overallChart = null;
        let classChart = null;

        // Chart colors
        const chartColors = [
            'rgba(236, 72, 153, 0.8)', // Pink for Quinna
            'rgba(59, 130, 246, 0.8)',  // Blue for Kirana
            'rgba(34, 197, 94, 0.8)',   // Green for Ramiel
            'rgba(249, 115, 22, 0.8)',  // Orange for Raisha
            'rgba(99, 102, 241, 0.8)'   // Indigo for Fawwaz
        ];

        const chartBorderColors = [
            'rgba(236, 72, 153, 1)',
            'rgba(59, 130, 246, 1)',
            'rgba(34, 197, 94, 1)',
            'rgba(249, 115, 22, 1)',
            'rgba(99, 102, 241, 1)'
        ];

        // Change vote function
        function changeVote(candidate, classNum, change) {
            if (votes[candidate][classNum] + change >= 0) {
                votes[candidate][classNum] += change;
                updateDisplay();
                
                // Add flash effect
                const candidateCard = document.getElementById(`candidate-${candidate}`);
                candidateCard.classList.add('vote-flash');
                setTimeout(() => candidateCard.classList.remove('vote-flash'), 300);
            }
        }

        // Initialize charts
        function initializeCharts() {
            // Overall Results Chart (Doughnut)
            const overallCtx = document.getElementById('overallChart').getContext('2d');
            overallChart = new Chart(overallCtx, {
                type: 'doughnut',
                data: {
                    labels: Object.values(candidates),
                    datasets: [{
                        data: [0, 0, 0, 0, 0],
                        backgroundColor: chartColors,
                        borderColor: chartBorderColors,
                        borderWidth: 2,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true,
                                font: {
                                    size: 12
                                },
                                generateLabels: function(chart) {
                                    const data = chart.data;
                                    if (data.labels.length && data.datasets.length) {
                                        return data.labels.map((label, i) => {
                                            const value = data.datasets[0].data[i];
                                            const total = data.datasets[0].data.reduce((a, b) => a + b, 0);
                                            const percentage = total > 0 ? ((value / total) * 100).toFixed(1) : 0;
                                            return {
                                                text: `${label}: ${value} suara (${percentage}%)`,
                                                fillStyle: data.datasets[0].backgroundColor[i],
                                                strokeStyle: data.datasets[0].borderColor[i],
                                                lineWidth: data.datasets[0].borderWidth,
                                                hidden: false,
                                                index: i
                                            };
                                        });
                                    }
                                    return [];
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                    const percentage = total > 0 ? ((context.parsed / total) * 100).toFixed(1) : 0;
                                    return `${context.label}: ${context.parsed} suara (${percentage}%)`;
                                }
                            }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        duration: 1000
                    }
                }
            });

            // Class Breakdown Chart (Bar)
            const classCtx = document.getElementById('classChart').getContext('2d');
            classChart = new Chart(classCtx, {
                type: 'bar',
                data: {
                    labels: ['Angkatan 32', 'Angkatan 33', 'Angkatan 34'],
                    datasets: [
                        {
                            label: 'Quinna',
                            data: [0, 0, 0],
                            backgroundColor: chartColors[0],
                            borderColor: chartBorderColors[0],
                            borderWidth: 1
                        },
                        {
                            label: 'Kirana',
                            data: [0, 0, 0],
                            backgroundColor: chartColors[1],
                            borderColor: chartBorderColors[1],
                            borderWidth: 1
                        },
                        {
                            label: 'Ramiel',
                            data: [0, 0, 0],
                            backgroundColor: chartColors[2],
                            borderColor: chartBorderColors[2],
                            borderWidth: 1
                        },
                        {
                            label: 'Raisha',
                            data: [0, 0, 0],
                            backgroundColor: chartColors[3],
                            borderColor: chartBorderColors[3],
                            borderWidth: 1
                        },
                        {
                            label: 'Fawwaz',
                            data: [0, 0, 0],
                            backgroundColor: chartColors[4],
                            borderColor: chartBorderColors[4],
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                usePointStyle: true,
                                font: {
                                    size: 11
                                },
                                generateLabels: function(chart) {
                                    const original = Chart.defaults.plugins.legend.labels.generateLabels;
                                    const labels = original.call(this, chart);
                                    
                                    labels.forEach((label, index) => {
                                        const dataset = chart.data.datasets[index];
                                        const total = dataset.data.reduce((a, b) => a + b, 0);
                                        label.text = `${label.text}: ${total} suara`;
                                    });
                                    
                                    return labels;
                                }
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            callbacks: {
                                label: function(context) {
                                    return `${context.dataset.label}: ${context.parsed.y} suara`;
                                },
                                footer: function(tooltipItems) {
                                    let total = 0;
                                    tooltipItems.forEach(function(tooltipItem) {
                                        total += tooltipItem.parsed.y;
                                    });
                                    return `Total: ${total} suara`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            },
                            ticks: {
                                stepSize: 1
                            }
                        }
                    },
                    animation: {
                        duration: 800,
                        easing: 'easeOutQuart'
                    }
                }
            });
        }

        // Update charts
        function updateCharts() {
            // Calculate totals for overall chart
            const overallData = [];
            for (let candidate = 1; candidate <= 5; candidate++) {
                let total = 0;
                for (let classNum of [32, 33, 34]) {
                    total += votes[candidate][classNum];
                }
                overallData.push(total);
            }

            // Update overall chart
            overallChart.data.datasets[0].data = overallData;
            overallChart.update('none');

            // Update class breakdown chart
            for (let candidate = 1; candidate <= 5; candidate++) {
                const classData = [
                    votes[candidate][32],
                    votes[candidate][33],
                    votes[candidate][34]
                ];
                classChart.data.datasets[candidate - 1].data = classData;
            }
            classChart.update('none');
        }

        // Update progress bars
        function updateProgressBars() {
            let totalVotes = 0;
            const candidateTotals = [];

            // Calculate totals
            for (let candidate = 1; candidate <= 5; candidate++) {
                let candidateTotal = 0;
                for (let classNum of [32, 33, 34]) {
                    candidateTotal += votes[candidate][classNum];
                }
                candidateTotals.push(candidateTotal);
                totalVotes += candidateTotal;
            }

            // Update progress bars
            for (let candidate = 1; candidate <= 5; candidate++) {
                const total = candidateTotals[candidate - 1];
                const percentage = totalVotes > 0 ? ((total / totalVotes) * 100).toFixed(1) : 0;
                
                document.getElementById(`progress-${candidate}`).style.width = `${percentage}%`;
                document.getElementById(`progress-votes-${candidate}`).textContent = total;
                document.getElementById(`progress-percent-${candidate}`).textContent = percentage;
            }
        }

        // Update display
        function updateDisplay() {
            let totalVotes = 0;
            
            for (let candidate = 1; candidate <= 5; candidate++) {
                let candidateTotal = 0;
                for (let classNum of [32, 33, 34]) {
                    const voteCount = votes[candidate][classNum];
                    document.getElementById(`votes-${candidate}-${classNum}`).textContent = voteCount;
                    candidateTotal += voteCount;
                }
                document.getElementById(`total-${candidate}`).textContent = candidateTotal;
                totalVotes += candidateTotal;
            }
            
            document.getElementById('totalVotes').textContent = totalVotes;
            
            // Update charts and progress bars
            updateCharts();
            updateProgressBars();
        }







        // Show results
        function showResults() {
            const modal = document.getElementById('resultsModal');
            const content = document.getElementById('resultsContent');
            
            // Calculate results
            const results = [];
            let totalVotes = 0;
            
            for (let candidate = 1; candidate <= 5; candidate++) {
                let candidateTotal = 0;
                const classVotes = {};
                
                for (let classNum of [32, 33, 34]) {
                    const voteCount = votes[candidate][classNum];
                    classVotes[classNum] = voteCount;
                    candidateTotal += voteCount;
                }
                
                results.push({
                    candidate: candidate,
                    name: candidates[candidate],
                    total: candidateTotal,
                    classVotes: classVotes
                });
                
                totalVotes += candidateTotal;
            }
            
            // Sort by total votes (descending)
            results.sort((a, b) => b.total - a.total);
            
            // Generate results HTML
            let html = `
                <div class="mb-6 text-center">
                    <p class="text-lg font-semibold text-gray-700">Total Suara Keseluruhan: <span class="text-2xl text-blue-600">${totalVotes}</span></p>
                </div>
                
                <div class="space-y-4">
            `;
            
            results.forEach((result, index) => {
                const percentage = totalVotes > 0 ? ((result.total / totalVotes) * 100).toFixed(1) : 0;
                const position = index + 1;
                const medal = position === 1 ? 'ü•á' : position === 2 ? 'ü•à' : position === 3 ? 'ü•â' : `${position}.`;
                
                html += `
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-3">
                            <div class="flex items-center gap-3">
                                <span class="text-2xl">${medal}</span>
                                <div>
                                    <h3 class="text-lg font-bold text-gray-800">${result.name}</h3>
                                    <p class="text-sm text-gray-600">Kandidat No. ${result.candidate}</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <p class="text-2xl font-bold text-blue-600">${result.total}</p>
                                <p class="text-sm text-gray-600">${percentage}%</p>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-3 gap-3 text-sm">
                            <div class="bg-white rounded p-2 text-center">
                                <p class="font-semibold text-gray-700">Angkatan 32</p>
                                <p class="text-lg font-bold text-blue-600">${result.classVotes[32]}</p>
                            </div>
                            <div class="bg-white rounded p-2 text-center">
                                <p class="font-semibold text-gray-700">Angkatan 33</p>
                                <p class="text-lg font-bold text-blue-600">${result.classVotes[33]}</p>
                            </div>
                            <div class="bg-white rounded p-2 text-center">
                                <p class="font-semibold text-gray-700">Angkatan 34</p>
                                <p class="text-lg font-bold text-blue-600">${result.classVotes[34]}</p>
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <div class="bg-gray-200 rounded-full h-2">
                                <div class="bg-blue-500 h-2 rounded-full transition-all duration-500" style="width: ${percentage}%"></div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            html += '</div>';
            content.innerHTML = html;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // Close results modal
        function closeResults() {
            const modal = document.getElementById('resultsModal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(event) {
            // Don't trigger shortcuts if user is typing in an input field
            if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') {
                return;
            }

            const key = event.key;
            const keyLower = key.toLowerCase();
            const isShift = event.shiftKey;
            

            
            // Vote shortcuts mapping
            
            const shortcutMap = {
                // Quinna Alfisya Bahtiar (Candidate 1)
                'q': { candidate: 1, class: 32 },
                'Q': { candidate: 1, class: 32 },
                'w': { candidate: 1, class: 33 },
                'W': { candidate: 1, class: 33 },
                'e': { candidate: 1, class: 34 },
                'E': { candidate: 1, class: 34 },
                // Kirana Asri Malika (Candidate 2)
                'r': { candidate: 2, class: 32 },
                'R': { candidate: 2, class: 32 },
                't': { candidate: 2, class: 33 },
                'T': { candidate: 2, class: 33 },
                'y': { candidate: 2, class: 34 },
                'Y': { candidate: 2, class: 34 },
                // Ramiel Gaza Rizqiansyah (Candidate 3)
                'u': { candidate: 3, class: 32 },
                'U': { candidate: 3, class: 32 },
                'i': { candidate: 3, class: 33 },
                'I': { candidate: 3, class: 33 },
                'o': { candidate: 3, class: 34 },
                'O': { candidate: 3, class: 34 },
                // Raisha Putri Sakinah (Candidate 4)
                'a': { candidate: 4, class: 32 },
                'A': { candidate: 4, class: 32 },
                's': { candidate: 4, class: 33 },
                'S': { candidate: 4, class: 33 },
                'd': { candidate: 4, class: 34 },
                'D': { candidate: 4, class: 34 },
                // Fawwaz Muhammad Arifin (Candidate 5)
                'f': { candidate: 5, class: 32 },
                'F': { candidate: 5, class: 32 },
                'g': { candidate: 5, class: 33 },
                'G': { candidate: 5, class: 33 },
                'h': { candidate: 5, class: 34 },
                'H': { candidate: 5, class: 34 }
            };
            
            if (shortcutMap[key]) {
                event.preventDefault();
                const mapping = shortcutMap[key];
                const change = isShift ? -1 : 1;
                changeVote(mapping.candidate, mapping.class, change);
            }
        });

        // Login functionality
        function handleLogin(event) {
            event.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const errorMessage = document.getElementById('errorMessage');
            
            // Check credentials
            if (username === 'adminpemilos2025' && password === 'pemilos2025') {
                // Hide login page and show main app
                document.getElementById('loginPage').classList.add('hidden');
                document.getElementById('mainApp').classList.remove('hidden');
                
                // Initialize charts after showing main app
                setTimeout(() => {
                    initializeCharts();
                    updateDisplay();
                }, 100);
            } else {
                // Show error message
                errorMessage.classList.remove('hidden');
                
                // Clear form
                document.getElementById('username').value = '';
                document.getElementById('password').value = '';
                
                // Hide error message after 3 seconds
                setTimeout(() => {
                    errorMessage.classList.add('hidden');
                }, 3000);
            }
        }

        // Initialize display and charts
        document.addEventListener('DOMContentLoaded', function() {
            // Add login form event listener
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
        });

        // Close modals when clicking outside
        document.getElementById('resultsModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeResults();
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96a782bf72667b14',t:'MTc1NDQwOTY2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
